{% extends "base.html" %}

{% block title %}Home - VidStream{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1><i class="fas fa-video"></i> All Videos</h1>
    </div>

    {% if videos %}
        <div class="video-grid">
            {% for video in videos %}
                <div class="video-card">
                    <a href="{{ url_for('video', video_id=video.video_id) }}" class="video-thumbnail">
                        <img src="{{ url_for('static', filename='uploads/' + video.thumbnail_path) }}" alt="{{ video.title }}">
                        <div class="video-overlay">
                            <i class="fas fa-play-circle"></i>
                        </div>
                    </a>
                    <div class="video-info">
                        <h3 class="video-title">
                            <a href="{{ url_for('video', video_id=video.video_id) }}">{{ video.title }}</a>
                        </h3>
                        <div class="video-meta">
                            <span class="video-author">
                                <i class="fas fa-user"></i> {{ video.username }}
                            </span>
                            <span class="video-views">
                                <i class="fas fa-eye"></i> {{ video.views }} views
                            </span>
                        </div>
                        <p class="video-time">
                            <i class="far fa-clock"></i> {{ video.created_at|timeago }}
                        </p>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <i class="fas fa-video-slash"></i>
            <h2>No videos yet</h2>
            <p>Be the first to upload a video!</p>
            {% if session.get('user_id') %}
                <a href="{{ url_for('upload') }}" class="btn btn-primary">
                    <i class="fas fa-upload"></i> Upload Now
                </a>
            {% else %}
                <a href="{{ url_for('register') }}" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> Register to Upload
                </a>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}
